[gd_scene load_steps=11 format=3 uid="uid://ddf4bkdiaij0i"]

[ext_resource type="Script" uid="uid://cyx0tisu64csm" path="res://screens/screen_state_handler.gd" id="1_0xm2m"]
[ext_resource type="Script" uid="uid://c21qus1kd8ea6" path="res://hud/player_stats.gd" id="1_5vw27"]
[ext_resource type="Texture2D" uid="uid://b1x4mjy7gcuej" path="res://icons/circular_progress_bar.svg" id="1_272bh"]
[ext_resource type="PackedScene" uid="uid://dq4ms3cpcq0vn" path="res://screens/home_screen.tscn" id="2_h2yge"]
[ext_resource type="PackedScene" uid="uid://sfpj5ak5kd1d" path="res://hud/gold_navbar_entry.tscn" id="3_5vw27"]
[ext_resource type="PackedScene" uid="uid://nyqbgx7fadw2" path="res://hud/health_navbar_entry.tscn" id="4_5vw27"]
[ext_resource type="PackedScene" uid="uid://bw8penflm8kg3" path="res://hud/mana_navbar_entry.tscn" id="5_5vw27"]
[ext_resource type="PackedScene" uid="uid://0pbiqum41dkh" path="res://hud/spirit_navbar_entry.tscn" id="6_kek77"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_0xm2m"]
content_margin_top = 15.0
content_margin_bottom = 15.0
bg_color = Color(1, 1, 1, 1)
border_color = Color(0.589096, 0.589096, 0.589095, 1)
border_blend = true

[sub_resource type="Theme" id="Theme_1bvp3"]

[node name="Main" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Layout" type="VBoxContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
alignment = 1

[node name="TopHUDStyleContainer" type="PanelContainer" parent="Layout"]
custom_minimum_size = Vector2(0, 160)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_0xm2m")

[node name="TopHUD" type="HBoxContainer" parent="Layout/TopHUDStyleContainer"]
custom_minimum_size = Vector2(0, 180)
layout_mode = 2
script = ExtResource("1_5vw27")

[node name="Level" type="MenuButton" parent="Layout/TopHUDStyleContainer/TopHUD"]
custom_minimum_size = Vector2(175, 0)
layout_mode = 2
size_flags_horizontal = 6
theme_override_colors/font_color = Color(0.621524, 0.621524, 0.621524, 1)
theme_override_font_sizes/font_size = 60
text = "Lv. 1"
icon_alignment = 1
expand_icon = true

[node name="TextureProgressBar" type="TextureProgressBar" parent="Layout/TopHUDStyleContainer/TopHUD/Level"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
step = 0.0
value = 100.0
rounded = true
fill_mode = 4
nine_patch_stretch = true
texture_progress = ExtResource("1_272bh")

[node name="GoldNavbarEntry" parent="Layout/TopHUDStyleContainer/TopHUD" instance=ExtResource("3_5vw27")]
layout_mode = 2

[node name="HealthNavbarEntry" parent="Layout/TopHUDStyleContainer/TopHUD" instance=ExtResource("4_5vw27")]
layout_mode = 2

[node name="ManaNavbarEntry" parent="Layout/TopHUDStyleContainer/TopHUD" instance=ExtResource("5_5vw27")]
layout_mode = 2

[node name="SpiritNavbarEntry" parent="Layout/TopHUDStyleContainer/TopHUD" instance=ExtResource("6_kek77")]
layout_mode = 2

[node name="MainScreens" type="Control" parent="Layout"]
layout_mode = 2
size_flags_vertical = 3
script = ExtResource("1_0xm2m")

[node name="HomeScreen" parent="Layout/MainScreens" instance=ExtResource("2_h2yge")]
layout_mode = 1

[node name="BottomNav" type="HBoxContainer" parent="Layout"]
custom_minimum_size = Vector2(0, 140)
layout_mode = 2
size_flags_vertical = 8
theme = SubResource("Theme_1bvp3")
alignment = 1

[node name="HomeButton" type="Button" parent="Layout/BottomNav"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_font_sizes/font_size = 70
text = "Home"
expand_icon = true

[node name="QuestButton" type="Button" parent="Layout/BottomNav"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_font_sizes/font_size = 70
text = "Quests"

[node name="BattleButton" type="Button" parent="Layout/BottomNav"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_font_sizes/font_size = 70
text = "Battle"

[node name="ArmoryButton" type="Button" parent="Layout/BottomNav"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_font_sizes/font_size = 70
text = "Armory"

[node name="LandButton" type="Button" parent="Layout/BottomNav"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_font_sizes/font_size = 70
text = "Land"

[connection signal="button_up" from="Layout/BottomNav/HomeButton" to="Layout/MainScreens" method="_on_home_button_up"]
[connection signal="button_up" from="Layout/BottomNav/QuestButton" to="Layout/MainScreens" method="_on_quest_button_up"]
[connection signal="button_up" from="Layout/BottomNav/BattleButton" to="Layout/MainScreens" method="_on_battle_button_up"]
[connection signal="button_up" from="Layout/BottomNav/ArmoryButton" to="Layout/MainScreens" method="_on_armory_button_up"]
[connection signal="button_up" from="Layout/BottomNav/LandButton" to="Layout/MainScreens" method="_on_land_button_up"]
